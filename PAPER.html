<h1 id="paper-mapping">Paper mapping</h1>
<table>
<colgroup>
<col style="width: 1%" />
<col style="width: 19%" />
<col style="width: 15%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">§</th>
<th style="text-align: left;">Item</th>
<th style="text-align: left;">File</th>
<th style="text-align: left;">Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">fix</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/nat_random_walk.v">nat_random_walk.v</a></td>
<td style="text-align: left;"><code>myrec</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">F</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/nat_random_walk.v">nat_random_walk.v</a></td>
<td style="text-align: left;"><code>F</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Symmetric random walk</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/nat_random_walk.v">nat_random_walk.v</a></td>
<td style="text-align: left;"><code>nat_random_walk</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Def. 2.1</td>
<td style="text-align: left;"><a
href="theories/prob/distribution.v">distribution.v</a></td>
<td style="text-align: left;"><code>distr</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Def. 2.2</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 2.3</td>
<td style="text-align: left;"><a
href="theories/prob/distribution.v">distribution.v</a></td>
<td style="text-align: left;"><code>dbind</code>,
<code>dret</code>,<code>dret_id_right</code>, <code>dbind_assoc</code>,
…</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Def. 2.4</td>
<td style="text-align: left;"><a
href="theories/prob/markov.v">markov.v</a></td>
<td style="text-align: left;"><code>markov</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">exec_n</td>
<td style="text-align: left;"><a
href="theories/prob/markov.v">markov.v</a></td>
<td style="text-align: left;"><code>exec</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">exec</td>
<td style="text-align: left;"><a
href="theories/prob/markov.v">markov.v</a></td>
<td style="text-align: left;"><code>lim_exec</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 2.5</td>
<td style="text-align: left;"><a
href="theories/prob/markov.v">markov.v</a></td>
<td style="text-align: left;"><code>lim_exec_leq_mass</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">ProbLang</td>
<td style="text-align: left;"><a
href="theories/prob_lang/lang.v">lang.v</a></td>
<td style="text-align: left;"><code>expr</code>, <code>val</code>,
<code>ectx_item</code>, <code>state</code>, <code>head_step</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Def. 2.6</td>
<td style="text-align: left;"><a
href="theories/prob/couplings.v">couplings.v</a></td>
<td style="text-align: left;"><code>refRcoupl</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 2.7</td>
<td style="text-align: left;"><a
href="theories/prob/couplings.v">couplings.v</a></td>
<td style="text-align: left;"><code>refRcoupl_eq_elim</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 2.8</td>
<td style="text-align: left;"><a
href="theories/prob/couplings.v">couplings.v</a></td>
<td style="text-align: left;"><code>refRcoupl_mass_eq</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Thm. 3.1</td>
<td style="text-align: left;"><a
href="theories/caliper/adequacy.v">adequacy.v</a></td>
<td style="text-align: left;"><code>rwp_soundness_mass</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-PURE</td>
<td style="text-align: left;"><a
href="theories/caliper/lifting.v">lifting.v</a></td>
<td style="text-align: left;"><code>rwp_pure_step</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-ALLOC</td>
<td style="text-align: left;"><a
href="theories/caliper/primitive_laws.v">primitive_laws.v</a></td>
<td style="text-align: left;"><code>rwp_alloc</code> [1]</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-LOAD</td>
<td style="text-align: left;"><a
href="theories/caliper/primitive_laws.v">primitive_laws.v</a></td>
<td style="text-align: left;"><code>rwp_load</code> [1]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-STORE</td>
<td style="text-align: left;"><a
href="theories/caliper/primitive_laws.v">primitive_laws.v</a></td>
<td style="text-align: left;"><code>rwp_store</code> [1]</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-RAND</td>
<td style="text-align: left;"><a
href="theories/caliper/primitive_laws.v">primitive_laws.v</a></td>
<td style="text-align: left;"><code>rwp_rand</code> [1]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-VAL</td>
<td style="text-align: left;"><a
href="theories/caliper/weakestpre.v">weakestpre.v</a></td>
<td style="text-align: left;"><code>rwp_value</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-BIND</td>
<td style="text-align: left;"><a
href="theories/caliper/weakestpre.v">weakestpre.v</a></td>
<td style="text-align: left;"><code>rwp_bind</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-MONO</td>
<td style="text-align: left;"><a
href="theories/caliper/weakestpre.v">weakestpre.v</a></td>
<td style="text-align: left;"><code>rwp_mono</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-FRAME</td>
<td style="text-align: left;"><a
href="theories/caliper/weakestpre.v">weakestpre.v</a></td>
<td style="text-align: left;"><code>rwp_frame_l</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Fig. 2, Löb</td>
<td style="text-align: left;">Iris</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-SPEC-DET</td>
<td style="text-align: left;"><a
href="theories/caliper/derived_laws.v">derived_laws.v</a></td>
<td style="text-align: left;"><code>rwp_spec_det</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-COUPL-RAND</td>
<td style="text-align: left;"><a
href="theories/caliper/derived_laws.v">derived_laws.v</a></td>
<td style="text-align: left;"><code>rwp_coupl_rand</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Repeated Coin Flips</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/coin_random_walk.v">coin_random_walk.v</a></td>
<td style="text-align: left;"><code>random_walk</code>,
<code>rwp_coin_flips</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">4</td>
<td style="text-align: left;">RWP-TAPE-ALLOC</td>
<td style="text-align: left;"><a
href="theories/caliper/primitive_laws.v">primitive_laws.v</a></td>
<td style="text-align: left;"><code>rwp_alloc_tape</code> [1]</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-TAPE-EMPTY</td>
<td style="text-align: left;"><a
href="theories/caliper/primitive_laws.v">primitive_laws.v</a></td>
<td style="text-align: left;"><code>rwp_rand_tape_empty</code> [1]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">RWP-TAPE</td>
<td style="text-align: left;"><a
href="theories/caliper/primitive_laws.v">primitive_laws.v</a></td>
<td style="text-align: left;"><code>rwp_rand_tape</code> [1]</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 5.1</td>
<td style="text-align: left;"><a
href="theories/prob_lang/erasure.v">erasure.v</a></td>
<td style="text-align: left;"><code>lim_exec_eq_erasure</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Recursion Through the Store</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/nat_random_walk.v">nat_random_walk.v</a></td>
<td style="text-align: left;"><code>nat_random_walk</code>,
<code>wp_myrec</code>, <code>wp_nat_rw</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">List Generators</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/listgen.v">listgen.v</a></td>
<td style="text-align: left;"><code>random_walk_nested</code>,
<code>wp_listgen_flip</code>, <code>wp_listgen_list_bool</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lazy Real</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/lazy_real.v">lazy_real.v</a></td>
<td style="text-align: left;"><code>two_coins</code>, <code>cmps</code>,
<code>lazy_no</code>, <code>rwp_init</code>, <code>rwp_cmp</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Treap</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/treap.v">treap.v</a></td>
<td style="text-align: left;"><code>is_treap</code>,
<code>wp_insert</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Stack</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/lib/list.v">list.v</a></td>
<td style="text-align: left;"><code>is_queue</code>, <code>queue</code>,
<code>wp_queue_create</code>, <code>wp_queue_add</code>,
<code>wp_queue_take_0</code>, <code>wp_queue_take_Sn</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Galton-Watson Tree</td>
<td style="text-align: left;"><a
href="theories/caliper/examples/galton_watson_tree.v">galton_watson_tree.v</a></td>
<td style="text-align: left;"><code>gwp</code>, <code>gen_tree</code>,
<code>wp_gen_tree</code> [3], <code>task_spec</code>,
<code>task_queue</code>, <code>wp_run</code> [3]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">6</td>
<td style="text-align: left;">cpl</td>
<td style="text-align: left;"><a
href="theories/caliper/weakestpre.v">weakestpre.v</a></td>
<td style="text-align: left;"><code>rwp_coupl</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">rwp</td>
<td style="text-align: left;"><a
href="theories/caliper/weakestpre.v">weakestpre.v</a></td>
<td style="text-align: left;"><code>rwp_def</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Plain guarded refinement</td>
<td style="text-align: left;"><a
href="theories/caliper/adequacy.v">adequacy.v</a></td>
<td style="text-align: left;"><code>refines</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 6.1</td>
<td style="text-align: left;"><a
href="theories/caliper/adequacy.v">adequacy.v</a></td>
<td style="text-align: left;"><code>rwp_refines</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 6.2</td>
<td style="text-align: left;"><a
href="theories/prob/couplings.v">couplings.v</a></td>
<td style="text-align: left;"><code>refRcoupl_dret</code>,
<code>refRcoupl_dbind</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Lem. 6.3</td>
<td style="text-align: left;"><a
href="theories/caliper/adequacy.v">adequacy.v</a></td>
<td style="text-align: left;"><code>refines_soundness_laterN</code>
[2]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Thm. 6.4</td>
<td style="text-align: left;">Iris</td>
<td style="text-align: left;"><code>laterN_soundness</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Cor. 6.5</td>
<td style="text-align: left;"><a
href="theories/caliper/adequacy.v">adequacy.v</a></td>
<td style="text-align: left;"><code>refines_soundness</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Cor. 6.6</td>
<td style="text-align: left;"><a
href="theories/caliper/adequacy.v">adequacy.v</a></td>
<td style="text-align: left;"><code>rwp_soundness</code></td>
</tr>
</tbody>
</table>
<p>[1] Written in Texan-triple style for convenience. See notation in <a
href="theories/bi/weakestpre.v">bi/weakestpre.v</a>.</p>
<p>[2] The statement contains an extra <code>except_0</code> and
<code>later</code> modality. C.f. the discussion at the top of <a
href="theories/caliper/adequacy.v">adequacy.v</a>, this is an mostly
irrelevant technicality of Iris’ definition of the “fancy update
modality” which we omit from the paper.</p>
<p>[3] The statement and proof make use of Iris’ so-called non-atomic
invariants. We have aux. notation for working with these defined in <a
href="theories/caliper/seq_weakestpre.v">seq_weakestpre.v</a>.</p>
